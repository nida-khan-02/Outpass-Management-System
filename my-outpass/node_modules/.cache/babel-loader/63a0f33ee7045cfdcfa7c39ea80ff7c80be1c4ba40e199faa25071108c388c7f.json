{"ast":null,"code":"'use strict';\n\nconst modifiedPaths = require('./modifiedPaths');\n\n/**\n * Decorate the update with a version key, if necessary\n * @api private\n */\n\nmodule.exports = function decorateUpdateWithVersionKey(update, options, versionKey) {\n  if (!versionKey || !(options && options.upsert || false)) {\n    return;\n  }\n  const updatedPaths = modifiedPaths(update);\n  if (!updatedPaths[versionKey]) {\n    if (options.overwrite) {\n      update[versionKey] = 0;\n    } else {\n      if (!update.$setOnInsert) {\n        update.$setOnInsert = {};\n      }\n      update.$setOnInsert[versionKey] = 0;\n    }\n  }\n};","map":{"version":3,"names":["modifiedPaths","require","module","exports","decorateUpdateWithVersionKey","update","options","versionKey","upsert","updatedPaths","overwrite","$setOnInsert"],"sources":["E:/Out/my-outpass/node_modules/mongoose/lib/helpers/update/decorateUpdateWithVersionKey.js"],"sourcesContent":["'use strict';\n\nconst modifiedPaths = require('./modifiedPaths');\n\n/**\n * Decorate the update with a version key, if necessary\n * @api private\n */\n\nmodule.exports = function decorateUpdateWithVersionKey(update, options, versionKey) {\n  if (!versionKey || !(options && options.upsert || false)) {\n    return;\n  }\n\n  const updatedPaths = modifiedPaths(update);\n  if (!updatedPaths[versionKey]) {\n    if (options.overwrite) {\n      update[versionKey] = 0;\n    } else {\n      if (!update.$setOnInsert) {\n        update.$setOnInsert = {};\n      }\n      update.$setOnInsert[versionKey] = 0;\n    }\n  }\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,aAAa,GAAGC,OAAO,CAAC,iBAAiB,CAAC;;AAEhD;AACA;AACA;AACA;;AAEAC,MAAM,CAACC,OAAO,GAAG,SAASC,4BAA4BA,CAACC,MAAM,EAAEC,OAAO,EAAEC,UAAU,EAAE;EAClF,IAAI,CAACA,UAAU,IAAI,EAAED,OAAO,IAAIA,OAAO,CAACE,MAAM,IAAI,KAAK,CAAC,EAAE;IACxD;EACF;EAEA,MAAMC,YAAY,GAAGT,aAAa,CAACK,MAAM,CAAC;EAC1C,IAAI,CAACI,YAAY,CAACF,UAAU,CAAC,EAAE;IAC7B,IAAID,OAAO,CAACI,SAAS,EAAE;MACrBL,MAAM,CAACE,UAAU,CAAC,GAAG,CAAC;IACxB,CAAC,MAAM;MACL,IAAI,CAACF,MAAM,CAACM,YAAY,EAAE;QACxBN,MAAM,CAACM,YAAY,GAAG,CAAC,CAAC;MAC1B;MACAN,MAAM,CAACM,YAAY,CAACJ,UAAU,CAAC,GAAG,CAAC;IACrC;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}