{"ast":null,"code":"'use strict';\n\nconst get = require('../get');\nmodule.exports = function applyWriteConcern(schema, options) {\n  if (options.writeConcern != null) {\n    return;\n  }\n  // Don't apply default write concern to operations in transactions,\n  // because setting write concern on an operation in a transaction is an error\n  // See: https://www.mongodb.com/docs/manual/reference/write-concern/\n  if (options && options.session && options.session.transaction) {\n    return;\n  }\n  const writeConcern = get(schema, 'options.writeConcern', {});\n  if (Object.keys(writeConcern).length != 0) {\n    options.writeConcern = {};\n    if (!('w' in options) && writeConcern.w != null) {\n      options.writeConcern.w = writeConcern.w;\n    }\n    if (!('j' in options) && writeConcern.j != null) {\n      options.writeConcern.j = writeConcern.j;\n    }\n    if (!('wtimeout' in options) && writeConcern.wtimeout != null) {\n      options.writeConcern.wtimeout = writeConcern.wtimeout;\n    }\n  } else {\n    if (!('w' in options) && writeConcern.w != null) {\n      options.w = writeConcern.w;\n    }\n    if (!('j' in options) && writeConcern.j != null) {\n      options.j = writeConcern.j;\n    }\n    if (!('wtimeout' in options) && writeConcern.wtimeout != null) {\n      options.wtimeout = writeConcern.wtimeout;\n    }\n  }\n};","map":{"version":3,"names":["get","require","module","exports","applyWriteConcern","schema","options","writeConcern","session","transaction","Object","keys","length","w","j","wtimeout"],"sources":["E:/Out/my-outpass/node_modules/mongoose/lib/helpers/schema/applyWriteConcern.js"],"sourcesContent":["'use strict';\n\nconst get = require('../get');\n\nmodule.exports = function applyWriteConcern(schema, options) {\n  if (options.writeConcern != null) {\n    return;\n  }\n  // Don't apply default write concern to operations in transactions,\n  // because setting write concern on an operation in a transaction is an error\n  // See: https://www.mongodb.com/docs/manual/reference/write-concern/\n  if (options && options.session && options.session.transaction) {\n    return;\n  }\n  const writeConcern = get(schema, 'options.writeConcern', {});\n  if (Object.keys(writeConcern).length != 0) {\n    options.writeConcern = {};\n    if (!('w' in options) && writeConcern.w != null) {\n      options.writeConcern.w = writeConcern.w;\n    }\n    if (!('j' in options) && writeConcern.j != null) {\n      options.writeConcern.j = writeConcern.j;\n    }\n    if (!('wtimeout' in options) && writeConcern.wtimeout != null) {\n      options.writeConcern.wtimeout = writeConcern.wtimeout;\n    }\n  }\n  else {\n    if (!('w' in options) && writeConcern.w != null) {\n      options.w = writeConcern.w;\n    }\n    if (!('j' in options) && writeConcern.j != null) {\n      options.j = writeConcern.j;\n    }\n    if (!('wtimeout' in options) && writeConcern.wtimeout != null) {\n      options.wtimeout = writeConcern.wtimeout;\n    }\n  }\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,GAAG,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAE7BC,MAAM,CAACC,OAAO,GAAG,SAASC,iBAAiBA,CAACC,MAAM,EAAEC,OAAO,EAAE;EAC3D,IAAIA,OAAO,CAACC,YAAY,IAAI,IAAI,EAAE;IAChC;EACF;EACA;EACA;EACA;EACA,IAAID,OAAO,IAAIA,OAAO,CAACE,OAAO,IAAIF,OAAO,CAACE,OAAO,CAACC,WAAW,EAAE;IAC7D;EACF;EACA,MAAMF,YAAY,GAAGP,GAAG,CAACK,MAAM,EAAE,sBAAsB,EAAE,CAAC,CAAC,CAAC;EAC5D,IAAIK,MAAM,CAACC,IAAI,CAACJ,YAAY,CAAC,CAACK,MAAM,IAAI,CAAC,EAAE;IACzCN,OAAO,CAACC,YAAY,GAAG,CAAC,CAAC;IACzB,IAAI,EAAE,GAAG,IAAID,OAAO,CAAC,IAAIC,YAAY,CAACM,CAAC,IAAI,IAAI,EAAE;MAC/CP,OAAO,CAACC,YAAY,CAACM,CAAC,GAAGN,YAAY,CAACM,CAAC;IACzC;IACA,IAAI,EAAE,GAAG,IAAIP,OAAO,CAAC,IAAIC,YAAY,CAACO,CAAC,IAAI,IAAI,EAAE;MAC/CR,OAAO,CAACC,YAAY,CAACO,CAAC,GAAGP,YAAY,CAACO,CAAC;IACzC;IACA,IAAI,EAAE,UAAU,IAAIR,OAAO,CAAC,IAAIC,YAAY,CAACQ,QAAQ,IAAI,IAAI,EAAE;MAC7DT,OAAO,CAACC,YAAY,CAACQ,QAAQ,GAAGR,YAAY,CAACQ,QAAQ;IACvD;EACF,CAAC,MACI;IACH,IAAI,EAAE,GAAG,IAAIT,OAAO,CAAC,IAAIC,YAAY,CAACM,CAAC,IAAI,IAAI,EAAE;MAC/CP,OAAO,CAACO,CAAC,GAAGN,YAAY,CAACM,CAAC;IAC5B;IACA,IAAI,EAAE,GAAG,IAAIP,OAAO,CAAC,IAAIC,YAAY,CAACO,CAAC,IAAI,IAAI,EAAE;MAC/CR,OAAO,CAACQ,CAAC,GAAGP,YAAY,CAACO,CAAC;IAC5B;IACA,IAAI,EAAE,UAAU,IAAIR,OAAO,CAAC,IAAIC,YAAY,CAACQ,QAAQ,IAAI,IAAI,EAAE;MAC7DT,OAAO,CAACS,QAAQ,GAAGR,YAAY,CAACQ,QAAQ;IAC1C;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}